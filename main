from minimarket import Minimarket
from item import Item

def display_menu():
    print("\nMinimarket Menu:")
    print("1. Add Item")
    print("2. View Inventory")
    print("3. Sell Item")
    print("4. Exit")

def add_item_to_market(market):
    name = input("Enter item name: ")
    price = float(input("Enter item price: "))
    quantity = int(input("Enter item quantity: "))
    item = Item(name, price, quantity)
    market.add_item(item, quantity)
    print(f"Added {quantity} of {name} to the market.")

def view_inventory(market):
    market.display_inventory()

def sell_item_from_market(market):
    item_name = input("Enter item name: ")
    quantity = int(input("Enter quantity to sell: "))
    try:
        cost = market.sell_item(item_name, quantity)
        print(f"Sold {quantity} of {item_name} for {cost}")
    except ValueError as e:
        print(e)

def main():
    market = Minimarket("Local Minimarket")
    
    while True:
        display_menu()
        choice = input("Enter your choice: ")
        
        if choice == '1':
            add_item_to_market(market)
        elif choice == '2':
            view_inventory(market)
        elif choice == '3':
            sell_item_from_market(market)
        elif choice == '4':
            print("Exiting the program.")
            break
        else:
            print("Invalid choice. Please try again.")

if __name__ == "__main__":
    main()
